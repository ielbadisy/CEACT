---
title: "CEACT Package"
output: github_document
---

# CEACT: Cost-Effectiveness Analysis for Clinical Trials

## Overview

**CEACT** *(Cost-Effectiveness Analysis for Clinical Trials)* is an R package designed to facilitate the economic evaluation of healthcare interventions in clinical trials. It provides functions for computing and visualizing cost-effectiveness metrics including:

- Incremental Cost-Effectiveness Ratios (ICER),
- Cost-effectiveness planes,
- Cost-effectiveness acceptability curves (CEAC),
- Net monetary benefit (NMB) metrics.

The package is formula-friendly and built with the tidyverse style in mind.

---

## Installation

```{r}
# install.packages("devtools")
#devtools::install_github("ielbadisy/CEACT")
library(CEACT)
```

---

## Key Features

- `cea()`: Estimate the ICER and provide a clear cost-effectiveness summary.
- `boot_icer()`: Perform bootstrap-based uncertainty analysis of ICER.
- `plot_ceplane()`: Visualize cost-effectiveness plane with quadrant info.
- `plot_ceac()`: Display cost-effectiveness acceptability curve (CEAC).
- `compute_nmb_ceac()`: Compute NMB and CEAC table using WTP thresholds.

---

## Example Usage

### Simulate Trial Data

```{r}
set.seed(123)

control <- data.frame(
  cost = rnorm(200, 500, 100),
  effect = rnorm(200, 0.4, 0.05),
  group = "control"
)

treatment <- data.frame(
  cost = rnorm(200, 550, 100),
  effect = rnorm(200, 0.3, 0.06),
  group = "treatment"
)

df <- rbind(control, treatment)
```

### Run Cost-Effectiveness Analysis

```{r}
res_cea <- cea(cost + effect ~ group, data = df, ref = "control")
summary(res_cea)
# ICER
#attr(res_cea, "ICER")
```

### Bootstrap the ICER

```{r}
res_boot <- boot_icer(cost + effect ~ group, data = df, ref = "control", R = 300)
summary(res_boot)
```

### Visualize the Cost-Effectiveness Plane

```{r}
plot_ceplane(res_boot, k = 1000, show_quadrants = TRUE)
```

### Plot the CEAC

```{r}
plot_ceac(res_boot, wtp_range = seq(0, 20000, 1000))
```

### Compute NMB and CEAC Table

```{r}
nmb_table <- compute_nmb_ceac(cost + effect ~ 1, data = df, wtp_range = seq(0, 20000, 1000))
head(nmb_table)
```

---

## Documentation

For help with specific functions, use:

```{r}
?cea
?boot_icer
?plot_ceplane
?plot_ceac
?compute_nmb_ceac
```

---

## Feedback & Contributions

Feedback, bug reports, and pull requests are welcome via the [GitHub Issues page](https://github.com/ielbadisy/CEACT/issues).

---

## TODO

- [x] Use formula interface consistently
- [x] Add quadrant info to CE plane plot (optional)
- [x] Improve p-value formatting
- [ ] Make all functions S3 generic (`summary()`, `plot()`, etc.)
- [ ] Write documentation
- [ ] Add function-level documentation with **roxygen2**
- [ ] Add tests using **testthat**
- [ ] Build and include a PDF vignette
- [ ] Write a comprehensive tutorial
- [ ] Submit to **CRAN**

---
```
